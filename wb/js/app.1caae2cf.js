(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],p=0,y=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&y.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(y.length)y.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"39e4":function(t,e,n){"use strict";n("d194")},"785c":function(t,e,n){t.exports=n.p+"img/afm.10bd558e.jpg"},"9cdc":function(t,e,n){"use strict";n("c701")},c701:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function r(t,e,n,r,i,o){var s=Object(a["k"])("Diagram");return Object(a["e"])(),Object(a["c"])(s)}var i=n("d4ec"),o=n("262e"),s=n("2caf"),c=n("9ab4"),u=n("ce1f"),l=(n("b0c0"),n("b680"),n("785c")),p=n.n(l),y=Object(a["o"])("data-v-650c866f");Object(a["h"])("data-v-650c866f");var f={class:"noprint"},m=Object(a["d"])("h1",null,"Inputs",-1),h=Object(a["d"])("image",{href:p.a,width:"1080"},null,-1),g={class:"noprint"};Object(a["f"])();var d=y((function(t,e,n,r,i,o){return Object(a["e"])(),Object(a["c"])(a["a"],null,[Object(a["d"])("div",f,[m,(Object(a["e"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(t.config.inputs,(function(e){return Object(a["e"])(),Object(a["c"])("div",{key:e.name},[Object(a["d"])("label",{for:e.name},Object(a["l"])(e.name),9,["for"]),Object(a["n"])(Object(a["d"])("input",{"onUpdate:modelValue":function(n){return t.scalars[e.name]=n},id:e.name,placeholder:e.name},null,8,["onUpdate:modelValue","id","placeholder"]),[[a["m"],t.scalars[e.name],void 0,{number:!0}]])])})),128))]),(Object(a["e"])(),Object(a["c"])("svg",{width:"1080",height:"1531",onClick:e[1]||(e[1]=function(){return t.onclick.apply(t,arguments)}),onMousedown:e[2]||(e[2]=function(){return t.ondown.apply(t,arguments)})},[h,(Object(a["e"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(t.result.points,(function(t,e){return Object(a["e"])(),Object(a["c"])("circle",{key:e,cx:t.x,cy:t.y,r:"5"},null,8,["cx","cy"])})),128)),(Object(a["e"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(t.result.lines,(function(t,e){return Object(a["e"])(),Object(a["c"])("line",{key:e,x1:t.start.x,y1:t.start.y,x2:t.end.x,y2:t.end.y},null,8,["x1","y1","x2","y2"])})),128)),(Object(a["e"])(!0),Object(a["c"])(a["a"],null,Object(a["j"])(t.result.texts,(function(t,e){var n;return Object(a["e"])(),Object(a["c"])("text",{key:e,x:t.pos.x,y:t.pos.y,"text-anchor":"middle","font-size":"26"},Object(a["l"])(null===(n=t.text)||void 0===n?void 0:n.toFixed(0)),9,["x","y"])})),128))],32)),Object(a["d"])("div",g,[Object(a["d"])("textarea",{value:JSON.stringify(t.result,null,2),rows:"50",cols:"80"},null,8,["value"])])],64)})),x=(n("4160"),n("159b"),n("bee2")),j=(n("99af"),n("d81d"),n("13d5"),function(){function t(e,n){Object(i["a"])(this,t),this.x=e,this.y=n}return Object(x["a"])(t,[{key:"plus",value:function(t){return new b(t.x+this.x,t.y+this.y)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"lenSquared",value:function(){return this.dot(this)}},{key:"scale",value:function(e){return new t(e*this.x,e*this.y)}},{key:"normalize",value:function(){return this.scale(1/Math.sqrt(this.dot(this)))}}]),t}()),b=function(){function t(e,n){Object(i["a"])(this,t),this.x=e,this.y=n}return Object(x["a"])(t,[{key:"projectOnto",value:function(t){return t.unit.scale(this.minus(t.start).dot(t.unit)).plus(t.start)}},{key:"minus",value:function(t){return new j(this.x-t.x,this.y-t.y)}},{key:"toFixed",value:function(t){return"{x: ".concat(this.x.toFixed(t),", y: ").concat(this.y.toFixed(t),"}")}}],[{key:"fromConfig",value:function(e){return new t(e.x,e.y)}}]),t}(),v=function(){function t(e,n){Object(i["a"])(this,t),this.start=e,this.end=n,this.delta=n.minus(e),this.unit=this.delta.normalize()}return Object(x["a"])(t,[{key:"toFixed",value:function(t){return"{start: ".concat(this.start.toFixed(t),", end: ").concat(this.end.toFixed(t),"}")}}],[{key:"fromConfig",value:function(e){return new t(b.fromConfig(e.start),b.fromConfig(e.end))}}]),t}(),O=function(){function t(e,n,a){Object(i["a"])(this,t),this.scalar=e,this.point=n,this.lines=a}return Object(x["a"])(t,null,[{key:"scalar",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new t(e,void 0,n)}},{key:"point",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new t(void 0,e,n)}}]),t}(),k=function(){function t(e,n,a){Object(i["a"])(this,t),this.name=e,this.line=n,this.range=a}return Object(x["a"])(t,[{key:"run",value:function(t){var e=(t-this.range[0])/(this.range[1]-this.range[0]),n=this.line.delta.scale(e).plus(this.line.start);return O.point(n,[])}}],[{key:"runConfig",value:function(e,n){return new t(e.name,v.fromConfig(e.params.line),e.params.range).run(n.resolveScalar(e.inputs.v))}}]),t}(),w=function(){function t(e,n){Object(i["a"])(this,t),this.name=e,this.offset=n}return Object(x["a"])(t,[{key:"run",value:function(t){return O.scalar(t.reduce((function(t,e){return t+e}),this.offset),[])}}],[{key:"runConfig",value:function(e,n){return new t(e.name,e.params.offset).run(e.inputs.map(n.resolveScalar))}}]),t}(),T=function(){function t(e,n){Object(i["a"])(this,t),this.name=e,this.factor=n}return Object(x["a"])(t,[{key:"run",value:function(t){return O.scalar(this.factor*t,[])}}],[{key:"runConfig",value:function(e,n){return new t(e.name,e.params.factor).run(n.resolveScalar(e.input))}}]),t}(),M=function(){function t(e,n,a){Object(i["a"])(this,t),this.name=e,this.projectLine=n,this.intersectLine=a}return Object(x["a"])(t,[{key:"run",value:function(t,e){var n=t.projectOnto(this.projectLine),a=e.minus(n),r=this.projectLine.delta,i=this.intersectLine.delta,o=-r.y+r.x*i.y/i.x,s=a.y-a.x*i.y/i.x,c=(a.x-s*(-r.x/o))/i.x,u=i.scale(c).plus(n);return O.point(u,[new v(t,n),new v(n,u),new v(e,u)])}}],[{key:"runConfig",value:function(e,n){return new t(e.name,v.fromConfig(e.params.projectLine),v.fromConfig(e.params.intersectLine)).run(n.resolvePoint(e.inputs.projectee),n.resolvePoint(e.inputs.intersector))}}]),t}(),P=n("2909"),W=n("5530"),S=function(){function t(e){Object(i["a"])(this,t),this.config=e}return Object(x["a"])(t,[{key:"evaluate",value:function(t){var e=Object(W["a"])({},t),n={},a=[],r=[],i=function(t,e){if(null===(null!==e&&void 0!==e?e:null))throw new Error("Unknown name: ".concat(t));return e},o={resolveScalar:function(t){return i(t,e[t])},resolvePoint:function(t){return i(t,n[t])}};function s(t){switch(t.type){case"interpolator":return k.runConfig(t,o);case"intersector":return M.runConfig(t,o);case"sum":return w.runConfig(t,o);case"scale":return T.runConfig(t,o);default:throw new Error("Unknown type: ".concat(t))}}return this.config.items.forEach((function(t){var r=s(t);void 0!==r.point&&(n[t.name]=r.point),void 0!==r.scalar&&(e[t.name]=r.scalar),a.push.apply(a,Object(P["a"])(r.lines))})),this.config.texts.forEach((function(t){r.push({text:o.resolveScalar(t.name),pos:b.fromConfig(t.pos)})})),{scalars:e,points:n,lines:a,texts:r}}}]),t}(),L={inputs:[{type:"scalar",name:"EmptyMoment",initial:240.04},{type:"scalar",name:"EmptyWeight",initial:642.72},{type:"scalar",name:"FrontSeatsWeight",initial:160},{type:"scalar",name:"RearSeatsWeight",initial:10},{type:"scalar",name:"MainTankLitres",initial:110},{type:"scalar",name:"OptionalTankLitres",initial:0},{type:"scalar",name:"BaggagesWeight",initial:10}],items:[{type:"interpolator",name:"EmptyMomentPoint",params:{line:{start:{x:409.7,y:330},end:{x:825.7,y:328.1}},range:[100,600]},inputs:{v:"EmptyMoment"}},{type:"interpolator",name:"FrontSeatsMoment",params:{line:{start:{x:410.8,y:330},end:{x:409.8,y:498}},range:[0,200]},inputs:{v:"FrontSeatsWeight"}},{type:"intersector",name:"PlusFrontSeatsMoment",params:{projectLine:{start:{x:409.7,y:330},end:{x:865.7,y:326}},intersectLine:{start:{x:535.7,y:329.7},end:{x:604.7,y:497.7}}},inputs:{projectee:"EmptyMomentPoint",intersector:"FrontSeatsMoment"}},{type:"interpolator",name:"RearSeatsPoint",params:{line:{start:{x:410.3,y:509.3},end:{x:410.3,y:676.3}},range:[0,200]},inputs:{v:"RearSeatsWeight"}},{type:"intersector",name:"PlusRearSeatsMoment",params:{projectLine:{start:{x:411.3,y:509.3},end:{x:827.3,y:509.3}},intersectLine:{start:{x:438.3,y:510.3},end:{x:638.3,y:675.3}}},inputs:{projectee:"PlusFrontSeatsMoment",intersector:"RearSeatsPoint"}},{type:"interpolator",name:"MainTankPoint",params:{line:{start:{x:412.7,y:687.8},end:{x:412.7,y:838.8}},range:[0,110]},inputs:{v:"MainTankLitres"}},{type:"intersector",name:"PlusMainTankMoment",params:{projectLine:{start:{x:411.3,y:687.3},end:{x:866.5,y:687.3}},intersectLine:{start:{x:561.1,y:689.5},end:{x:637.1,y:838.5}}},inputs:{projectee:"PlusRearSeatsMoment",intersector:"MainTankPoint"}},{type:"interpolator",name:"OptionalTankPoint",params:{line:{start:{x:412.1,y:854.6},end:{x:411.1,y:925.6}},range:[0,50]},inputs:{v:"OptionalTankLitres"}},{type:"intersector",name:"PlusOptionalTankMoment",params:{projectLine:{start:{x:412.1,y:853.5},end:{x:867.1,y:852.5}},intersectLine:{start:{x:598.1,y:853.5},end:{x:647.1,y:923.5}}},inputs:{projectee:"PlusMainTankMoment",intersector:"OptionalTankPoint"}},{type:"interpolator",name:"BaggagesPoint",params:{line:{start:{x:412.4,y:938.2},end:{x:412.4,y:1023.2}},range:[0,60]},inputs:{v:"BaggagesWeight"}},{type:"intersector",name:"PlusBaggagesMoment",params:{projectLine:{start:{x:412.1,y:938.3},end:{x:747.1,y:938.3}},intersectLine:{start:{x:536.1,y:939.3},end:{x:634.1,y:1022.3}}},inputs:{projectee:"PlusOptionalTankMoment",intersector:"BaggagesPoint"}},{type:"intersector",name:"EmptyTankPlusBaggagesMoment",params:{projectLine:{start:{x:412.1,y:938.3},end:{x:747.1,y:938.3}},intersectLine:{start:{x:536.1,y:939.3},end:{x:634.1,y:1022.3}}},inputs:{projectee:"PlusRearSeatsMoment",intersector:"BaggagesPoint"}},{type:"scale",name:"MainTankWeight",input:"MainTankLitres",params:{factor:.72}},{type:"scale",name:"OptionalTankWeight",input:"OptionalTankLitres",params:{factor:.72}},{type:"sum",name:"TotalWeight",inputs:["EmptyWeight","FrontSeatsWeight","RearSeatsWeight","MainTankWeight","OptionalTankWeight","BaggagesWeight"],params:{offset:0}},{type:"sum",name:"TotalWeightEmptyTank",inputs:["EmptyWeight","FrontSeatsWeight","RearSeatsWeight","BaggagesWeight"],params:{offset:0}},{type:"interpolator",name:"TotalWeightPoint",params:{line:{start:{x:414.6,y:1045.4},end:{x:414.6,y:1287.4}},range:[1e3,650]},inputs:{v:"TotalWeight"}},{type:"intersector",name:"TotalMoment",params:{projectLine:{start:{x:414.3,y:1045.4},end:{x:869.3,y:1042.4}},intersectLine:{start:{x:829.3,y:1044.4},end:{x:831.3,y:1285.4}}},inputs:{projectee:"PlusBaggagesMoment",intersector:"TotalWeightPoint"}},{type:"interpolator",name:"TotalWeightEmptyTankPoint",params:{line:{start:{x:414.6,y:1045.4},end:{x:414.6,y:1287.4}},range:[1e3,650]},inputs:{v:"TotalWeightEmptyTank"}},{type:"intersector",name:"TotalMomentEmptyTank",params:{projectLine:{start:{x:414.3,y:1045.4},end:{x:869.3,y:1042.4}},intersectLine:{start:{x:829.3,y:1044.4},end:{x:831.3,y:1285.4}}},inputs:{projectee:"EmptyTankPlusBaggagesMoment",intersector:"TotalWeightEmptyTankPoint"}}],texts:[{name:"EmptyMoment",pos:{x:618.6,y:248.9}},{name:"EmptyWeight",pos:{x:131.6,y:323.9}},{name:"FrontSeatsWeight",pos:{x:133.6,y:446.9}},{name:"RearSeatsWeight",pos:{x:133.6,y:616.4}},{name:"MainTankWeight",pos:{x:135.6,y:778.3}},{name:"MainTankLitres",pos:{x:330.6,y:755.8}},{name:"OptionalTankWeight",pos:{x:136.6,y:898.2}},{name:"OptionalTankLitres",pos:{x:330.6,y:911.8}},{name:"BaggagesWeight",pos:{x:136.6,y:1006}},{name:"TotalWeight",pos:{x:139.6,y:1286}},{name:"TotalWeightEmptyTank",pos:{x:139.6,y:1319}}]},E=L,C=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){var t;return Object(i["a"])(this,n),t=e.apply(this,arguments),t.config=E,t.scalars=function(){var e={};return t.config.inputs.forEach((function(t){e[t.name]=t.initial})),console.log(e),e}(),t.down=null,t}return Object(x["a"])(n,[{key:"onclick",value:function(t){var e=t.target,n=e.getBoundingClientRect(),a=t.clientX-n.left,r=t.clientY-n.top,i=new b(a,r),o=this.down;null===o||i.minus(o).lenSquared()<2?console.log(i.toFixed(1)):console.log(new v(o,i).toFixed(1))}},{key:"ondown",value:function(t){var e=t.target,n=e.getBoundingClientRect(),a=t.clientX-n.left,r=t.clientY-n.top;this.down=new b(a,r)}},{key:"result",get:function(){try{return new S(this.config).evaluate(this.scalars)}catch(t){return console.log(t),{scalars:[],points:[],lines:[]}}}}]),n}(u["b"]);C=Object(c["a"])([Object(u["a"])({})],C);var F=C;n("39e4");F.render=d,F.__scopeId="data-v-650c866f";var B=F,R=function(t){Object(o["a"])(n,t);var e=Object(s["a"])(n);function n(){return Object(i["a"])(this,n),e.apply(this,arguments)}return n}(u["b"]);R=Object(c["a"])([Object(u["a"])({components:{Diagram:B}})],R);var _=R;n("9cdc");_.render=r;var U=_;Object(a["b"])(U).mount("#app")},d194:function(t,e,n){}});
//# sourceMappingURL=app.1caae2cf.js.map